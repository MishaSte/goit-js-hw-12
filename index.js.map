{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nexport function getImagesByQuery(query) {\n  return axios\n    .get('https://pixabay.com/api/', {\n      params: {\n        key: '54467398-e3fbb77cd6756a94fed6b64f1',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    })\n    .then(response => response.data);\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst list = document.querySelector('.gallery');\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\nconst loaderEl = document.querySelector('.loader');\n\nexport function createGallery(images) {\n  const galleryItems = [];\n\n  images.forEach(image => {\n    const {\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n    } = image;\n    const newListElem = document.createElement('li');\n    const link = document.createElement('a');\n    const img = document.createElement('img');\n    const info = document.createElement('div');\n    info.classList.add('info');\n    info.innerHTML = `\n  <div class=\"info-item\">\n    <span class=\"info-title\">Likes</span>\n    <span class=\"info-value\">${likes}</span>\n  </div>\n  <div class=\"info-item\">\n    <span class=\"info-title\">Views</span>\n    <span class=\"info-value\">${views}</span>\n  </div>\n  <div class=\"info-item\">\n    <span class=\"info-title\">Comments</span>\n    <span class=\"info-value\">${comments}</span>\n  </div>\n  <div class=\"info-item\">\n    <span class=\"info-title\">Downloads</span>\n    <span class=\"info-value\">${downloads}</span>\n  </div>\n`;\n\n    newListElem.classList.add('gallery-item');\n\n    link.classList.add('gallery-link');\n    link.setAttribute('href', `${largeImageURL}`);\n\n    img.classList.add('gallery-image');\n    img.setAttribute('src', `${webformatURL}`);\n    img.setAttribute('alt', `${tags}`);\n\n    link.append(img);\n    newListElem.append(link, info);\n    galleryItems.push(newListElem);\n  });\n\n  list.append(...galleryItems);\n  lightbox.refresh();\n}\nexport function clearGallery() {\n  list.innerHTML = '';\n}\nexport function showLoader() {\n  loaderEl.classList.remove('is-hidden');\n}\nexport function hideLoader() {\n  loaderEl.classList.add('is-hidden');\n}\n","import iziToast from 'izitoast';\nimport { getImagesByQuery } from './js/pixabay-api.js';\nimport { createGallery } from './js/render-functions.js';\nimport { clearGallery } from './js/render-functions.js';\nimport { hideLoader } from './js/render-functions.js';\nimport { showLoader } from './js/render-functions.js';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const query = form.elements[`search-text`].value;\n  if (query.trim() === '') {\n    iziToast.error({\n      message: 'The field is empty',\n      position: 'topRight',\n    });\n    return;\n  }\n  clearGallery();\n  showLoader();\n  getImagesByQuery(query)\n    .then(data => {\n      const hits = data.hits;\n      if (hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        return;\n      }\n      form.reset();\n      createGallery(hits);\n    })\n    .catch(() => {\n      iziToast.error({\n        message: 'Something went wrong. Please try again later.',\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n});\n"],"names":["getImagesByQuery","query","axios","response","list","lightbox","SimpleLightbox","loaderEl","createGallery","images","galleryItems","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","newListElem","link","img","info","clearGallery","showLoader","hideLoader","form","event","iziToast","data","hits"],"mappings":"owBACO,SAASA,EAAiBC,EAAO,CACtC,OAAOC,EACJ,IAAI,2BAA4B,CAC/B,OAAQ,CACN,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,EACA,KAAKE,GAAYA,EAAS,IAAI,CACnC,CCVA,MAAMC,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EACKC,EAAW,SAAS,cAAc,SAAS,EAE1C,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAe,CAAA,EAErBD,EAAO,QAAQE,GAAS,CACtB,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EACEQ,EAAc,SAAS,cAAc,IAAI,EACzCC,EAAO,SAAS,cAAc,GAAG,EACjCC,EAAM,SAAS,cAAc,KAAK,EAClCC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,MAAM,EACzBA,EAAK,UAAY;AAAA;AAAA;AAAA,+BAGUP,CAAK;AAAA;AAAA;AAAA;AAAA,+BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,+BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,+BAIRC,CAAS;AAAA;AAAA,EAIpCC,EAAY,UAAU,IAAI,cAAc,EAExCC,EAAK,UAAU,IAAI,cAAc,EACjCA,EAAK,aAAa,OAAQ,GAAGP,CAAa,EAAE,EAE5CQ,EAAI,UAAU,IAAI,eAAe,EACjCA,EAAI,aAAa,MAAO,GAAGT,CAAY,EAAE,EACzCS,EAAI,aAAa,MAAO,GAAGP,CAAI,EAAE,EAEjCM,EAAK,OAAOC,CAAG,EACfF,EAAY,OAAOC,EAAME,CAAI,EAC7BZ,EAAa,KAAKS,CAAW,CACjC,CAAG,EAEDf,EAAK,OAAO,GAAGM,CAAY,EAC3BL,EAAS,QAAO,CAClB,CACO,SAASkB,GAAe,CAC7BnB,EAAK,UAAY,EACnB,CACO,SAASoB,GAAa,CAC3BjB,EAAS,UAAU,OAAO,WAAW,CACvC,CACO,SAASkB,GAAa,CAC3BlB,EAAS,UAAU,IAAI,WAAW,CACpC,CCjEA,MAAMmB,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,iBAAiB,SAAUC,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAM1B,EAAQyB,EAAK,SAAS,aAAa,EAAE,MAC3C,GAAIzB,EAAM,KAAM,IAAK,GAAI,CACvB2B,EAAS,MAAM,CACb,QAAS,qBACT,SAAU,UAChB,CAAK,EACD,MACD,CACDL,IACAC,IACAxB,EAAiBC,CAAK,EACnB,KAAK4B,GAAQ,CACZ,MAAMC,EAAOD,EAAK,KAClB,GAAIC,EAAK,SAAW,EAAG,CACrBF,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EACD,MACD,CACDF,EAAK,MAAK,EACVlB,EAAcsB,CAAI,CACxB,CAAK,EACA,MAAM,IAAM,CACXF,EAAS,MAAM,CACb,QAAS,gDACT,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbH,GACN,CAAK,CACL,CAAC"}